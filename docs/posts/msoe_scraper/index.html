<!doctype html>
<html lang="en">
  <style>
:root {
  --light-bg: #faf4ed;
  --light-purple: #907aa9;
  --light-text: #575279;

  --dark-bg: #232136;
  --dark-purple: #c4a7e7;
  --dark-text: #e0def4;
}

body {
  font-family: JetBrains Mono;
}

li {
  font-family: Inter;
}
.chroma {
  font-size: 1rem !important;
  border: 2px solid red;
  border-radius: 10px;
  padding-left: 10px;
}
a {
  text-decoration: underline solid transparent;
  transition: text-decoration 0.75s ease;
}

a:hover {
  text-decoration: underline solid Currentcolor;
}

code {
  font-family: JetBrains Mono !important;
}
.dark code {
  color: var(--dark-purple);
}
.light code {
  color: var(--light-purple);
}

.dark hr {
  background-color: var(--light-text);
}
.light hr {
  background-color: var(--dark-text);
}

.dark .chroma {
  border: 1px solid var(--dark-purple);
}
.light .chroma {
  border: 0px;
}

.dark {
  background-color: var(--dark-bg);
  color: var(--dark-text);
  border-color: var(--dark-purple) !important;
  
}
.dark a {
  color: var(--dark-purple);
}


.light {
  background-color: var(--light-bg);
  color: var(--light-text);
  border-color: var(--light-purple);
}
.light a {
  color: var(--light-purple);
}


.container {
  max-width: 700px;
}


main p {
  font-family: Inter;
}


.dark .btn-outline-dark {
  border-color: var(--dark-purple);
}
.dark .btn-outline-dark:hover {
  background-color: var(--dark-purple);
  color: var(--dark-bg);
}
.light .btn-outline-dark {
  border-color: var(--light-purple);
}
.light .btn-outline-dark:hover {
  background-color: var(--light-purple);
  color: var(--light-bg);
}

#content {
  font-family: Inter;
}

#nav a {
  font-weight: bold;
  color: inherit;
}

#nav-border {
  border-bottom: 1px solid;
}
#main {
  margin-top: 1em;
  margin-bottom: 4em;
}
#home-jumbotron {
  background-color: inherit;
}
.font-125 {
  font-size: 125%;
}
.tag-btn {
  margin-bottom: 0.3em;
}
img {
  max-width: 100%;
}



.highlight-wrapper {
  display: block;
}

.highlight {
  position: relative;
  z-index: 0;
  padding: 0;
  margin: 0;
  border-radius: 4px;
}

.highlight > .chroma {
  position: static;
  z-index: 1;
  border-radius: 4px;
  padding: 10px;
}

.chroma .lntd:first-child {
  padding: 7px 7px 7px 10px;
  margin: 0;
}

.chroma .lntd:last-child {
  padding: 7px 10px 7px 7px;
  margin: 0;
}

.copy-code-button {
  position: absolute;
  font-family: Inter;
  z-index: 2;
  right: 0;
  top: 0;
  font-size: 13px;
  font-weight: 700;
  line-height: 14px;
  letter-spacing: 0.5px;
  width: 65px;
  border-top-left-radius: 0;
  border-top-right-radius: 4px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 4px;
  white-space: nowrap;
  padding: 4px 4px 5px 4px;
  margin: 0 0 0 1px;
  cursor: pointer;
  opacity: 0.6;
}

.dark .copy-code-button {
  color: var(--dark-text);
  background-color: var(--dark-bg);
  border: 1.25px solid var(--dark-purple);
}

.light .copy-code-button {
  color: var(--dark-text);
  background-color: var(--dark-bg);
  border: 1.25px solid var(--dark-purple);
}

.copy-code-button:hover,
.copy-code-button:focus,
.copy-code-button:active,
.dark .copy-code-button:active:hover {
  color: var(--dark-bg);
  background-color: var(--dark-purple);
  opacity: 0.8;
}

.copyable-text-area {
  position: absolute;
  height: 0;
  z-index: -1;
  opacity: .01;
}

.socials a {
  text-decoration: none;
}
.socials a:hover {
  text-decoration: none;
}

.social {
  display: inline;
  margin-right: 3px;
}
.social2 {
  display: inline;
  margin-right: 8px;
}

blockquote {
  margin: 1.5em 0px;
  padding: 0.5em 15px;
  border-left: 3px solid ;
}

.light blockquote {
  border-color: var(--light-text);
}
.dark blockquote {
  border-color: var(--dark-text);
}

blockquote p {
  display: inline;
  font-style: italic;
}
</style>

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="generator" content="Hugo 0.111.3">

  
  <link rel="stylesheet" href="/css/bootstrap.min.css">


  <link>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter&family=JetBrains+Mono:ital@0;1&display=swap" rel="stylesheet">
  
  

  
  <link rel="stylesheet" href="/css/syntax.css">

  <title>How to Schedule for Classes at MSOE | Caleb Andreano</title>
  <style>
:root {
  --light-bg: #faf4ed;
  --light-purple: #907aa9;
  --light-text: #575279;

  --dark-bg: #232136;
  --dark-purple: #c4a7e7;
  --dark-text: #e0def4;
}

body {
  font-family: JetBrains Mono;
}

li {
  font-family: Inter;
}
.chroma {
  font-size: 1rem !important;
  border: 2px solid red;
  border-radius: 10px;
  padding-left: 10px;
}
a {
  text-decoration: underline solid transparent;
  transition: text-decoration 0.75s ease;
}

a:hover {
  text-decoration: underline solid Currentcolor;
}

code {
  font-family: JetBrains Mono !important;
}
.dark code {
  color: var(--dark-purple);
}
.light code {
  color: var(--light-purple);
}

.dark hr {
  background-color: var(--light-text);
}
.light hr {
  background-color: var(--dark-text);
}

.dark .chroma {
  border: 1px solid var(--dark-purple);
}
.light .chroma {
  border: 0px;
}

.dark {
  background-color: var(--dark-bg);
  color: var(--dark-text);
  border-color: var(--dark-purple) !important;
  
}
.dark a {
  color: var(--dark-purple);
}


.light {
  background-color: var(--light-bg);
  color: var(--light-text);
  border-color: var(--light-purple);
}
.light a {
  color: var(--light-purple);
}


.container {
  max-width: 700px;
}


main p {
  font-family: Inter;
}


.dark .btn-outline-dark {
  border-color: var(--dark-purple);
}
.dark .btn-outline-dark:hover {
  background-color: var(--dark-purple);
  color: var(--dark-bg);
}
.light .btn-outline-dark {
  border-color: var(--light-purple);
}
.light .btn-outline-dark:hover {
  background-color: var(--light-purple);
  color: var(--light-bg);
}

#content {
  font-family: Inter;
}

#nav a {
  font-weight: bold;
  color: inherit;
}

#nav-border {
  border-bottom: 1px solid;
}
#main {
  margin-top: 1em;
  margin-bottom: 4em;
}
#home-jumbotron {
  background-color: inherit;
}
.font-125 {
  font-size: 125%;
}
.tag-btn {
  margin-bottom: 0.3em;
}
img {
  max-width: 100%;
}



.highlight-wrapper {
  display: block;
}

.highlight {
  position: relative;
  z-index: 0;
  padding: 0;
  margin: 0;
  border-radius: 4px;
}

.highlight > .chroma {
  position: static;
  z-index: 1;
  border-radius: 4px;
  padding: 10px;
}

.chroma .lntd:first-child {
  padding: 7px 7px 7px 10px;
  margin: 0;
}

.chroma .lntd:last-child {
  padding: 7px 10px 7px 7px;
  margin: 0;
}

.copy-code-button {
  position: absolute;
  font-family: Inter;
  z-index: 2;
  right: 0;
  top: 0;
  font-size: 13px;
  font-weight: 700;
  line-height: 14px;
  letter-spacing: 0.5px;
  width: 65px;
  border-top-left-radius: 0;
  border-top-right-radius: 4px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 4px;
  white-space: nowrap;
  padding: 4px 4px 5px 4px;
  margin: 0 0 0 1px;
  cursor: pointer;
  opacity: 0.6;
}

.dark .copy-code-button {
  color: var(--dark-text);
  background-color: var(--dark-bg);
  border: 1.25px solid var(--dark-purple);
}

.light .copy-code-button {
  color: var(--dark-text);
  background-color: var(--dark-bg);
  border: 1.25px solid var(--dark-purple);
}

.copy-code-button:hover,
.copy-code-button:focus,
.copy-code-button:active,
.dark .copy-code-button:active:hover {
  color: var(--dark-bg);
  background-color: var(--dark-purple);
  opacity: 0.8;
}

.copyable-text-area {
  position: absolute;
  height: 0;
  z-index: -1;
  opacity: .01;
}

.socials a {
  text-decoration: none;
}
.socials a:hover {
  text-decoration: none;
}

.social {
  display: inline;
  margin-right: 3px;
}
.social2 {
  display: inline;
  margin-right: 8px;
}

blockquote {
  margin: 1.5em 0px;
  padding: 0.5em 15px;
  border-left: 3px solid ;
}

.light blockquote {
  border-color: var(--light-text);
}
.dark blockquote {
  border-color: var(--dark-text);
}

blockquote p {
  display: inline;
  font-style: italic;
}
</style>

</head>

  <body class="light">

    
    
    
      <div id="nav-border" class="container">
  <nav id="nav" class="nav justify-content-left">
  <div class="toggle" style="background-color: var(--dark-bg);">
  <div id="icon-sun">
    <pre data-feather="sun"></pre>
  </div>
  <div id="icon-moon" style="display: none;">
    <pre data-feather="moon"></pre>
  </div>
</div>


<style>
  .toggle {
    position: relative;
    background-color: red;
    width: 40px;
    height: 40px;

    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;

    cursor: pointer;
  }
</style>


<script>

  var body = document.body;
  var toggle = document.getElementsByClassName('toggle')[0];
  var sun = document.getElementById('icon-sun');
  var moon = document.getElementById('icon-moon');


  toggle.addEventListener("click", function () {
    console.log("click");
    if (body.classList.contains('light')) {
      onDark();
    } else {
      onLight();
    }
  });

  if (localStorage.getItem('dark')) {
    onDark();
  } else {
    onLight();
  }

  function onDark() {
    body.classList.remove('light');
    body.classList.add('dark');

    sun.style.display = 'none';
    moon.style.display = '';

    toggle.style.backgroundColor = "var(--dark-bg)";

    if (!localStorage.getItem('dark')) {
      localStorage.setItem('dark', 'true');
    }
  }

  function onLight() {
    body.classList.remove('dark');
    body.classList.add('light');

    sun.style.display = '';
    moon.style.display = 'none';

    toggle.style.backgroundColor = "var(--light-bg)";

    if (localStorage.getItem('dark')) {
      localStorage.removeItem('dark', 'true');
    }
  }

</script>

   
    
    
    
    <a class="nav-link" href="/">home</a>
   
    
    
    
    <a class="nav-link" href="/posts/">posts</a>
   
    
    
    
    <a class="nav-link" href="/about">about</a>
  
  </nav>
</div>

    
    

    <div class="container">
      <main id="main">
        

 
  <h1>How to Schedule for Classes at MSOE</h1>
  


<time datetime="2023-05-18">May 18, 2023</time>



<br><br>


  <div class="socials">
    <div class="social2">
      <a href="https://github.com/xiugaze/msoe-open-seat">
        <pre data-feather="github"></pre>
        msoe-open-seat
      </a>
    </div>
  </div>
  <br>


<p>Scheduling for new classes at MSOE can be somewhat confusing and stressful.
In this article, I want to quickly share a few tips and tricks I&rsquo;ve learned from my time here at school.</p>
<h2 id="scheduling">Scheduling</h2>
<p>Right around week seven or eight, you&rsquo;ll receive your scheduling time in <a href="https://my.msoe.edu">MyMSOE</a>.</p>
<p>Sometimes, you&rsquo;ll get a late scheduling time, which means you may not be able to get all of the classes you want.
Unfortunately, you don&rsquo;t really have a lot of control over this process.
Your advisor might tell you that your registration time is dependent on how many credits you have, and that people are filtered into buckets based on their academic standing.
However, the truth is that you&rsquo;re probably scheduling late because of a loose cosmic ray that flipped your credit count from 60 to -127, or because Mercury is in retrograde, or because you forgot to sacrifice a goat to the registrar during week 6.</p>
<p>If you&rsquo;re really lucky, you&rsquo;ll get an early scheduling date.
This means that instead of having to compete with the rest of your class to land one of eighteen available seats for a class, you get to compete with half of your class to land one of eight seats that the registrar decided to open up.</p>
<p>In either case, you might try to schedule and find that one of the classes you want is full.
If this happens, don&rsquo;t worry!
You have a lot of options at this point:</p>
<ul>
<li>File a closed section request: This form asks a department to put you in a class that&rsquo;s already full. This is a great way to practice coping with rejection emails from your internship applications!</li>
<li>Schedule for an open section: You may have to put in some extra work to do well in a class with a more difficult professor, but hey, at the end of the day they&rsquo;re all fair in the end, right?</li>
<li>Wait for the section to open up: Seats can <em>always</em> be added to sections. In my experience, more seats tend to be added at times ending in a prime number, like 8:07 AM or 12:67 PM.</li>
</ul>
<h2 id="what-happens-if-i-dont-get-my-schedule">What happens if I don&rsquo;t get my schedule?</h2>
<p>If a class is a requirement in your academic track, then the school is required to give you a seat.
In this case, a closed section request filed when all section are full will usually be approved without issue. This can be acutally be a good thing, because an 8:00 AM to 7:00 PM schedule is actually really good because it&rsquo;s a realistic simulation of a real work day in industry!</p>
<p>If you end up with a really bad schedule, learning new skills can help you cope with the reality you&rsquo;re studying for finals already dreading the next term!</p>
<p>As of right now, I&rsquo;m not feeling all that good about my schedule for the fall.
To distract us, let&rsquo;s learn how to build a simple web scraper together!</p>
<h2 id="web-scraping">web scraping</h2>
<p>Web scraping is a way of programatically retrieving data or content from a website.
We can use these techniques to automatically extract the static HTML data from a website, and with it, potentially database contents that gets served alongside the static website.</p>
<p>For our little application, I&rsquo;m going to just pick a <a href="https://resources.msoe.edu/sched/courses/all">random website</a> that we can easily pull some data off of.</p>
<p><img src="/images/scheduler.png" alt="targets"></p>
<p>We&rsquo;re going to have two major dependencies for our Python script: <code>request</code> from the standard library for our HTTP functions, and a library called <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">Beautiful Soup</a> (<code>bs4</code>) for pulling elements from the DOM and packaging them as Python objects.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">URL</span> <span class="o">=</span> <span class="s2">&#34;https://resources.msoe.edu/sched/courses/all&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">page</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">URL</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&#34;html.parser&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>Our <code>page</code> object is a simple class that contains the data from an HTTP PUT, which is an HTTP primitive that sends data back in response to a GET request.
You can read more about POST <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT">here</a>.
Specifically, this object is going to hold our HTML data in it&rsquo;s <code>content</code> attribute, which we&rsquo;re going to pass to the <code>BeautifulSoup()</code> constructor to instantiate the HTML document as an object tree.
This constructor builds our DOM as a bunch of objects, and returns the root node which we&rsquo;ll store in the <code>soup</code> variable.</p>
<p>Now that we have a handle to our webpage, we can traverse through the tree to target a specific piece of data.
For this example, we can see that the main content of the webpage is stored in a table,and using inspect inspect element confirms this structure:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;table_wrapper&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;table_wrapper_inner&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">table</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;course-table&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">thead</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">th</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;width: 90px&#34;</span><span class="p">&gt;</span>Code<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Title<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Status<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Instructor<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">thead</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">tbody</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>ACS  1130 001 <span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Introduction to Actuarial Science<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Open<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>William M. Brummond<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>ACS  1530 001 <span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Financial Mathematics I<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>Open<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>. MA Staff<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="c">&lt;!-- ...etc --&gt;</span>
</span></span></code></pre></div><p>Okay, so here we can see that all of this data is stored in a <code>&lt;table&gt;</code> with <code>class =&quot;course-table&quot;</code>
In HTML, the <code>class</code> attribute is <em>not</em> a unique identifier, meaning that there can be multiple tags that share the same class.
However, this is the first occurence of this class in the document, so if there&rsquo;s any more, we can just grab the first one.</p>
<p>We can get a handle to the table using  <code>b4f</code> method <code>find()</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">table</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&#34;course-table&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&#34;tbody&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>Here, we&rsquo;re calling the <code>find()</code> method on our entire document, searching for the first element with the <code>class</code> attribute <code>&quot;course-table&quot;</code>.
We&rsquo;re then calling <code>find()</code> again on the <code>&lt;table&gt;</code> tag for the first <code>&lt;tbody&gt;</code> tag.</p>
<p>Looking at our HTML document, we can see that it&rsquo;s contains a bunch of <code>&lt;tr&gt;</code> (table row) tags, which in turn hold multiple <code>&lt;td&gt;</code> (table data) tags each.
However, none of these elements specify any unique identifiers, like a <code>class</code> or <code>id</code> attribute.</p>
<p>Let&rsquo;s write a quick function to iterate through the <code>&lt;tbody&gt;</code> tag and search for the <code>&lt;tr&gt;</code> that contains a <code>&lt;td&gt;</code> with specific text:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">find_td_in_tbody</span><span class="p">(</span><span class="n">tbody</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">tr</span> <span class="ow">in</span> <span class="n">tbody</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;tr&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">td</span> <span class="ow">in</span> <span class="n">tr</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">td_tag</span><span class="o">.</span><span class="n">get_text</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">td_tag</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">classcode</span> <span class="o">=</span> <span class="n">find_td_in_body</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="s2">&#34;ACS 1530 001&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>In this function, we iterate through each <code>&lt;tr&gt;</code> tag in the <code>&lt;tbody&gt;</code> tag.
Within each of those, we iterate through each <code>&lt;td&gt;</code> tag, and check if it contains our search string. If it does, we return the <code>&lt;td&gt;</code> element, which corresponds to a cell in the table.</p>
<p>Now that we and element in the row containing our search string, we can check if any of its siblings contain another search string.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">find_in_sibling</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">sibling</span> <span class="ow">in</span> <span class="n">tag</span><span class="o">.</span><span class="n">find_next_siblings</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">sibling</span><span class="o">.</span><span class="n">get_text</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl"><span class="n">status</span> <span class="o">=</span> <span class="n">find_in_sibling</span><span class="p">(</span><span class="n">classcode</span><span class="p">,</span> <span class="s2">&#34;Open&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>Putting all of this together, we can create a simple program that monitors for a state change in an HTML tag:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">find_td_in_tbody</span><span class="p">(</span><span class="n">tbody</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">tr</span> <span class="ow">in</span> <span class="n">tbody</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;tr&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">td</span> <span class="ow">in</span> <span class="n">tr</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">td_tag</span><span class="o">.</span><span class="n">get_text</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">td_tag</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">find_in_sibling</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">sibling</span> <span class="ow">in</span> <span class="n">tag</span><span class="o">.</span><span class="n">find_next_siblings</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">sibling</span><span class="o">.</span><span class="n">get_text</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">      <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">  <span class="n">URL</span> <span class="o">=</span> <span class="s2">&#34;https://resources.msoe.edu/sched/courses/all&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">class_name</span> <span class="o">=</span> <span class="s2">&#34;ACS 1130 001&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">page</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">URL</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&#34;html.parser&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">table</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&#34;course-table&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&#34;tbody&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">class_element</span> <span class="o">=</span> <span class="n">find_td_in_body</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nb">open</span> <span class="o">=</span> <span class="n">find_in_sibling</span><span class="p">(</span><span class="n">class_element</span><span class="p">,</span> <span class="s2">&#34;Open&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">status</span><span class="p">:</span> <span class="nb">str</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span><span class="p">(</span><span class="nb">open</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">status</span> <span class="o">=</span> <span class="s2">&#34;Open&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">status</span> <span class="o">=</span> <span class="s2">&#34;Closed&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Class &#34;</span> <span class="o">+</span> <span class="n">classcode</span> <span class="o">+</span> <span class="s2">&#34; is currently &#34;</span> <span class="o">+</span> <span class="n">status</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">main</span><span class="p">()</span>
</span></span></code></pre></div><p>Wow, look at that!
We just automated the process of refreshing a page and seeing if something changed!</p>
<h2 id="conclusion">conclusion</h2>
<p>take the power back</p>



      </main>
    </div>
    
<script src="/js/feather.min.js"></script>
<script>
  feather.replace();

</script><script>
  function createCopyButton(highlightDiv) {
  const button = document.createElement("button");
  button.className = "copy-code-button";
  button.type = "button";
  button.innerText = "Copy";
  button.addEventListener("click", () => copyCodeToClipboard(button, highlightDiv));
  addCopyButtonToDom(button, highlightDiv);
}

async function copyCodeToClipboard(button, highlightDiv) {
  const codeToCopy = highlightDiv.querySelector(":last-child > .chroma > code").innerText;
  try {
    result = await navigator.permissions.query({ name: "clipboard-write" });
    if (result.state == "granted" || result.state == "prompt") {
      await navigator.clipboard.writeText(codeToCopy);
    } else {
      copyCodeBlockExecCommand(codeToCopy, highlightDiv);
    }
  } catch (_) {
    copyCodeBlockExecCommand(codeToCopy, highlightDiv);
  }
  finally {
    codeWasCopied(button);
  }
}

function copyCodeBlockExecCommand(codeToCopy, highlightDiv) {
  const textArea = document.createElement("textArea");
  textArea.contentEditable = 'true'
  textArea.readOnly = 'false'
  textArea.className = "copyable-text-area";
  textArea.value = codeToCopy;
  highlightDiv.insertBefore(textArea, highlightDiv.firstChild);
  const range = document.createRange()
  range.selectNodeContents(textArea)
  const sel = window.getSelection()
  sel.removeAllRanges()
  sel.addRange(range)
  textArea.setSelectionRange(0, 999999)
  document.execCommand("copy");
  highlightDiv.removeChild(textArea);
}

function codeWasCopied(button) {
  button.blur();
  button.innerText = "Copied!";
  setTimeout(function() {
    button.innerText = "Copy";
  }, 2000);
}

function addCopyButtonToDom(button, highlightDiv) {
  highlightDiv.insertBefore(button, highlightDiv.firstChild);
  const wrapper = document.createElement("div");
  wrapper.className = "highlight-wrapper";
  highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
  wrapper.appendChild(highlightDiv);
}

document.querySelectorAll(".highlight")
  .forEach(highlightDiv => createCopyButton(highlightDiv));
</script>

  </body>
</html>
